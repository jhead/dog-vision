(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6637:(e,t,r)=>{"use strict";r.d(t,{default:()=>W});var a=r(5155),n=r(9137),l=r.n(n),s=r(2115),i=r(9708),o=r(2085),c=r(9434);let d=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:s=!1,...o}=e,u=s?i.DX:"button";return(0,a.jsx)(u,{className:(0,c.cn)(d({variant:n,size:l,className:r})),ref:t,...o})});u.displayName="Button";var m=r(7943);let f=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsxs)(m.bL,{ref:t,className:(0,c.cn)("relative flex w-full touch-none select-none items-center",r),...n,children:[(0,a.jsx)(m.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(m.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(m.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});f.displayName=m.bL.displayName;let v=s.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});v.displayName="Input";var p=r(968);let h=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(p.b,{ref:t,className:(0,c.cn)(h(),r),...n})});g.displayName=p.b.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});x.displayName="Card";let b=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",r),...n})});b.displayName="CardHeader";let w=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});w.displayName="CardTitle";let j=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",r),...n})});j.displayName="CardDescription";let y=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("p-6 pt-0",r),...n})});y.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter";var N=r(8579);let k=N.bL,C=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(N.B8,{ref:t,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...n})});C.displayName=N.B8.displayName;let E=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(N.l9,{ref:t,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...n})});E.displayName=N.l9.displayName;let F=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(N.UC,{ref:t,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});F.displayName=N.UC.displayName;let S=(0,o.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),D=s.forwardRef((e,t)=>{let{className:r,variant:n,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,c.cn)(S({variant:n}),r),...l})});D.displayName="Alert";let A=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",r),...n})});A.displayName="AlertTitle";let R=s.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",r),...n})});R.displayName="AlertDescription";var I=r(6923),T=r(172),z=r(9311),L=r(7933),_=r(1949),M=r(9255),P=r(7822),O=r(7524);let q=[[.05,.22,.73],[.68,.32,0],[.3,.59,.11]];function U(e,t,r){return Math.max(t,Math.min(r,e))}function V(e){let t=e.data,r=new ImageData(new Uint8ClampedArray(t),e.width,e.height),a=r.data;for(let e=0;e<t.length;e+=4){let r=Math.pow(t[e]/255,2.2),n=Math.pow(t[e+1]/255,2.2),l=Math.pow(t[e+2]/255,2.2),s=q[0][0]*r+q[0][1]*n+q[0][2]*l,i=q[1][0]*r+q[1][1]*n+q[1][2]*l,o=q[2][0]*r+q[2][1]*n+q[2][2]*l,c=.8*i+.1*s,d=.6*i+.3*s,u=.9*s+0*i,m=.2126*r+.7152*n+.0722*l;if(m<.3){let e=Math.min(.4,(.3-m)*1.3),t=.7*o;c=c*(1-e)+t*e,d=d*(1-e)+t*e*1.2,u=u*(1-e)+t*e*1.1}a[e]=U(255*Math.pow(c,1/2.2),0,255),a[e+1]=U(255*Math.pow(d,1/2.2),0,255),a[e+2]=U(255*Math.pow(u,1/2.2),0,255)}return r}var H=r(7481);function W(){let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(50),[m,p]=(0,s.useState)(null),h=(0,s.useRef)(null),[N,S]=(0,s.useState)("upload"),{toast:q}=(0,H.dj)(),U=(0,s.useRef)(null),W=(0,s.useRef)(null),G=(0,s.useRef)(null),B=(0,s.useRef)(null),[Q,X]=(0,s.useState)(null),[Y,J]=(0,s.useState)(null),[$,K]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)([]),[et,er]=(0,s.useState)(void 0),[ea,en]=(0,s.useState)(!1),el=(0,s.useRef)(null),[es,ei]=(0,s.useState)(!1),eo=(0,s.useCallback)(async e=>{o(!0),t(null),n(null),p(null);let r=new FileReader;r.onload=e=>{var r;let a=null==(r=e.target)?void 0:r.result,l=document.createElement("img");l.onload=()=>{t(a),p({width:l.naturalWidth,height:l.naturalHeight});let e=document.createElement("canvas");e.width=l.naturalWidth,e.height=l.naturalHeight;let r=e.getContext("2d",{willReadFrequently:!0});if(!r){q({title:"Canvas Error",description:"Could not get canvas context.",variant:"destructive"}),o(!1);return}r.drawImage(l,0,0);try{let t=r.getImageData(0,0,e.width,e.height),a=V(t);r.putImageData(a,0,0),n(e.toDataURL()),d(50)}catch(e){q({title:"Processing Error",description:"Failed to process the image.",variant:"destructive"}),console.error("Error processing image:",e)}finally{o(!1)}},l.onerror=()=>{q({title:"Image Load Error",description:"Could not load the image file.",variant:"destructive"}),o(!1)},l.src=a},r.onerror=()=>{q({title:"File Read Error",description:"Could not read the file.",variant:"destructive"}),o(!1)},r.readAsDataURL(e)},[q]),ec=(0,s.useCallback)(()=>{if(G.current&&(cancelAnimationFrame(G.current),G.current=null),B.current&&(B.current.getTracks().forEach(e=>e.stop()),B.current=null),X(null),U.current&&(U.current.srcObject=null,U.current.pause&&U.current.pause(),U.current.load&&U.current.load()),W.current){let e=W.current,t=e.getContext("2d");t&&t.clearRect(0,0,e.width,e.height)}},[]),ed=(0,s.useCallback)(async()=>{if("camera"===N){K(!0),J(null);try{let e,t=await navigator.mediaDevices.getUserMedia({video:!0});J(!0);let r=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);ee(r);let a=t.getVideoTracks();if(a.length>0&&(e=a[0].getSettings().deviceId),t.getTracks().forEach(e=>e.stop()),r.length>0){let t=r.find(e=>e.label.toLowerCase().includes("back")||e.label.toLowerCase().includes("environment")),a=e||(null==t?void 0:t.deviceId)||r[0].deviceId;er(a)}else q({variant:"destructive",title:"No Cameras Found",description:"No video input devices detected after permission."}),J(!1)}catch(e){console.error("Initial camera access error:",e),J(!1),q({variant:"destructive",title:"Camera Permission Denied",description:"Please enable camera permissions in your browser settings to use this feature."})}finally{K(!1)}}},[N,q]);(0,s.useEffect)(()=>{let e=!0,t=async()=>{if(!e||!et||!0!==Y||"camera"!==N){K(!1),en(!1);return}K(!0),en(!0),ec();try{let t=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:et}}});if(e){B.current=t,X(t),U.current&&(U.current.srcObject=t,U.current.onloadedmetadata=()=>{e&&U.current&&U.current.play().catch(e=>{console.error("Error playing video:",e),q({variant:"destructive",title:"Video Play Error",description:"Could not play camera stream."})})});let r=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);ee(r)}else t.getTracks().forEach(e=>e.stop())}catch(t){console.error("Error accessing camera with deviceId:",et,t),e&&(q({variant:"destructive",title:"Camera Device Error",description:"Failed to access the selected camera. Please try another one."}),Z.length<=1&&J(!1))}finally{e&&(K(!1),en(!1))}};return"camera"===N&&!0===Y&&et?t():("camera"!==N&&ec(),K(!1),en(!1)),()=>{e=!1}},[N,et,Y,q,ec,Z.length]),(0,s.useEffect)(()=>{"camera"!==N||!0!==Y||0!==Z.length||et||(async()=>{K(!0);try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);if(ee(e),e.length>0){let t=e.find(e=>e.label.toLowerCase().includes("back")||e.label.toLowerCase().includes("environment"));er((null==t?void 0:t.deviceId)||e[0].deviceId)}else 0===e.length&&(q({variant:"destructive",title:"No Cameras Found",description:"No video input devices detected."}),J(!1))}catch(e){console.error("Error enumerating devices:",e),q({variant:"destructive",title:"Device Error",description:"Could not list camera devices."})}finally{K(!1)}})()},[N,Y,Z.length,et,q]),(0,s.useEffect)(()=>{let e=U.current,t=W.current;if("camera"===N&&Q&&e&&t){let t=()=>{if(!U.current||!W.current||U.current.paused||U.current.ended||U.current.readyState<3||!B.current){B.current&&null!==G.current&&(G.current=requestAnimationFrame(t));return}let e=U.current,r=W.current,a=r.getContext("2d",{willReadFrequently:!0});if(a){(r.width!==e.videoWidth||r.height!==e.videoHeight)&&(r.width=e.videoWidth,r.height=e.videoHeight),a.drawImage(e,0,0,r.width,r.height);try{let e=a.getImageData(0,0,r.width,r.height),t=V(e);a.putImageData(t,0,0)}catch(e){console.error("Error processing frame:",e)}}B.current&&null!==G.current&&(G.current=requestAnimationFrame(t))},r=()=>{null!==G.current&&cancelAnimationFrame(G.current),G.current=requestAnimationFrame(t)};return e.addEventListener("canplay",r),e.readyState>=3&&r(),()=>{e.removeEventListener("canplay",r),null!==G.current&&(cancelAnimationFrame(G.current),G.current=null)}}null!==G.current&&(cancelAnimationFrame(G.current),G.current=null)},[N,Q]),(0,s.useEffect)(()=>()=>ec(),[ec]);let eu=(0,s.useCallback)(async()=>{var e;if(Z.length<2||ea||$)return;let t=(Z.findIndex(e=>e.deviceId===et)+1)%Z.length,r=null==(e=Z[t])?void 0:e.deviceId;r&&r!==et&&er(r)},[Z,et,ea,$]);(0,s.useEffect)(()=>{let e=()=>{let e=document,t=e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement;ei(!!t&&t===el.current)};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]);let em=(0,s.useCallback)(()=>{if(!el.current)return;let e=el.current,t=document;t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement?"function"==typeof t.exitFullscreen?t.exitFullscreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not exit fullscreen: ".concat(e.message)})}):"function"==typeof t.webkitExitFullscreen?t.webkitExitFullscreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not exit fullscreen: ".concat(e.message)})}):"function"==typeof t.mozCancelFullScreen?t.mozCancelFullScreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not exit fullscreen: ".concat(e.message)})}):"function"==typeof t.msExitFullscreen?t.msExitFullscreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not exit fullscreen: ".concat(e.message)})}):q({variant:"destructive",title:"Fullscreen Not Supported",description:"Could not exit fullscreen. API not available."}):"function"==typeof e.requestFullscreen?e.requestFullscreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not enter fullscreen: ".concat(e.message)})}):"function"==typeof e.webkitRequestFullscreen?e.webkitRequestFullscreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not enter fullscreen: ".concat(e.message)})}):"function"==typeof e.mozRequestFullScreen?e.mozRequestFullScreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not enter fullscreen: ".concat(e.message)})}):"function"==typeof e.msRequestFullscreen?e.msRequestFullscreen().catch(e=>{q({variant:"destructive",title:"Fullscreen Error",description:"Could not enter fullscreen: ".concat(e.message)})}):q({variant:"destructive",title:"Fullscreen Not Supported",description:"Fullscreen API is not supported on this browser or for this element."})},[q]),ef=m?m.width/m.height:16/9;return(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 min-h-screen flex flex-col items-center justify-center p-4 bg-background text-foreground",children:[(0,a.jsxs)(x,{className:"w-full max-w-2xl shadow-xl",children:[(0,a.jsxs)(b,{className:"text-center",children:[(0,a.jsx)(w,{className:"font-headline text-3xl md:text-4xl text-primary",children:"DogVision"}),(0,a.jsx)(j,{className:"text-muted-foreground",children:"See the world through a dog's eyes! Experience how your furry friend sees colors on photos or with your live camera."})]}),(0,a.jsx)(y,{className:"space-y-6",children:(0,a.jsxs)(k,{value:N,onValueChange:e=>{"camera"===e&&"upload"===N&&null===Y&&er(void 0),S(e)},className:"w-full",children:[(0,a.jsxs)(C,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(E,{value:"upload",children:"\uD83D\uDC15 Photo Upload"}),(0,a.jsx)(E,{value:"camera",children:"\uD83D\uDCF1 Live Camera"})]}),(0,a.jsxs)(F,{value:"upload",className:"mt-6",children:[(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 flex flex-col items-center space-y-4",children:[(0,a.jsx)(v,{id:"imageUpload",type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void q({title:"Invalid File Type",description:"Please upload an image file (e.g., PNG, JPG, GIF).",variant:"destructive"});eo(r)}},ref:h}),(0,a.jsxs)(u,{onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},className:"w-full sm:w-auto",variant:"default",size:"lg",children:[(0,a.jsx)(I.A,{className:"mr-2 h-5 w-5"})," Upload Photo \uD83D\uDC3E"]})]}),i&&(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 flex flex-col items-center justify-center space-y-2 text-muted-foreground py-10",children:[(0,a.jsx)(T.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"jsx-1ab3383b735d6f43 font-headline",children:"Processing image..."})]}),!i&&!e&&(0,a.jsxs)("div",{style:{aspectRatio:"".concat(ef)},className:"jsx-1ab3383b735d6f43 w-full bg-muted rounded-lg flex flex-col items-center justify-center text-muted-foreground mt-4",children:[(0,a.jsx)(z.A,{size:64,className:"mb-4 opacity-50"}),(0,a.jsx)("p",{className:"jsx-1ab3383b735d6f43 font-headline text-lg",children:"Your paw-some photos will appear here"}),(0,a.jsx)("p",{className:"jsx-1ab3383b735d6f43 text-sm",children:"Upload a photo to see how your dog sees it!"})]}),!i&&e&&(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 space-y-4 mt-4",children:[(0,a.jsxs)("div",{style:{aspectRatio:"".concat(ef)},className:"jsx-1ab3383b735d6f43 relative w-full border border-border rounded-lg overflow-hidden shadow-md bg-muted",children:[(0,a.jsx)("img",{src:e,alt:"Original","aria-label":"Human vision of image",className:"jsx-1ab3383b735d6f43 absolute top-0 left-0 w-full h-full object-contain"}),r&&(0,a.jsx)("div",{style:{clipPath:"polygon(0 0, ".concat(c,"% 0, ").concat(c,"% 100%, 0 100%)")},className:"jsx-1ab3383b735d6f43 absolute top-0 left-0 w-full h-full",children:(0,a.jsx)("img",{src:r,alt:"Dog Vision Simulation","aria-label":"How dogs see this image",className:"jsx-1ab3383b735d6f43 absolute top-0 left-0 w-full h-full object-contain"})}),r&&(0,a.jsx)("div",{style:{left:"calc(".concat(c,"% - 2px)")},role:"separator","aria-orientation":"vertical",className:"jsx-1ab3383b735d6f43 absolute top-0 bottom-0 w-1 bg-primary/70 cursor-col-resize shadow-md"})]}),(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 grid grid-cols-2 gap-4 items-center",children:[(0,a.jsx)(g,{htmlFor:"imageSlider",className:"text-sm text-center font-headline",children:"Human Vision"}),(0,a.jsx)(g,{htmlFor:"imageSlider",className:"text-sm text-center font-headline",children:"Dog Vision"})]}),(0,a.jsx)(f,{id:"imageSlider",value:[c],onValueChange:e=>d(e[0]),max:100,step:.1,className:"w-full",disabled:!r,"aria-label":"Image comparison slider"})]})]}),(0,a.jsx)(F,{value:"camera",className:"mt-6",children:(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 flex flex-col items-center space-y-4",children:[(0,a.jsxs)("div",{ref:el,className:"jsx-1ab3383b735d6f43 relative w-full bg-muted rounded-lg overflow-hidden shadow-md dark:bg-neutral-800 camera-viewport aspect-[3/4] sm:aspect-video",children:[(0,a.jsx)("video",{ref:U,autoPlay:!0,muted:!0,playsInline:!0,className:"jsx-1ab3383b735d6f43 hidden w-full h-full object-contain"}),(0,a.jsx)("canvas",{ref:W,className:"jsx-1ab3383b735d6f43 w-full h-full object-contain"}),($||ea&&!Q)&&(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 absolute inset-0 flex flex-col items-center justify-center bg-muted/80 dark:bg-neutral-800/80",children:[(0,a.jsx)(T.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"jsx-1ab3383b735d6f43 font-headline mt-2",children:ea?"Switching camera...":"Starting camera..."})]}),!Q&&!$&&!1!==Y&&(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 absolute inset-0 flex flex-col items-center justify-center text-muted-foreground",children:[(0,a.jsx)(L.A,{size:64,className:"mb-4 opacity-50"}),(0,a.jsx)("p",{className:"jsx-1ab3383b735d6f43 font-headline text-lg",children:null===Y?"Click 'Start Camera' to see through dog eyes!":"Live dog vision feed will appear here"}),null===Y&&(0,a.jsx)("p",{className:"jsx-1ab3383b735d6f43 text-sm",children:"Allow camera permission when prompted."})]})]}),!1===Y&&(0,a.jsxs)(D,{variant:"destructive",className:"w-full",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),(0,a.jsx)(A,{children:"Camera Access Denied"}),(0,a.jsxs)(R,{children:["Please enable camera permissions in your browser settings.",(0,a.jsx)(u,{onClick:()=>{J(null),er(void 0)},variant:"link",className:"p-0 h-auto ml-1 text-destructive-foreground underline",children:"Retry?"})]})]}),(0,a.jsxs)("div",{className:"jsx-1ab3383b735d6f43 w-full flex flex-col sm:flex-row justify-center items-center gap-2",children:["camera"===N&&null===Y&&!$&&(0,a.jsxs)(u,{onClick:ed,className:"flex-grow sm:flex-grow-0 w-full sm:w-auto",disabled:$,children:[(0,a.jsx)(L.A,{className:"mr-2 h-5 w-5"})," Start Camera \uD83D\uDC15"]}),Q&&!0===Y&&(0,a.jsx)(u,{onClick:()=>{ec(),J(null),er(void 0)},variant:"destructive",className:"flex-grow sm:flex-grow-0 w-full sm:w-auto",children:"Stop Camera"}),Q&&!0===Y&&Z.length>1&&(0,a.jsxs)(u,{onClick:eu,variant:"outline",className:"flex-grow sm:flex-grow-0 w-full sm:w-auto",disabled:ea||$,children:[ea?(0,a.jsx)(T.A,{className:"mr-2 h-5 w-5 animate-spin"}):(0,a.jsx)(M.A,{className:"mr-2 h-5 w-5"}),"Switch Camera"]}),Q&&!0===Y&&(0,a.jsxs)(u,{onClick:em,variant:"outline",className:"flex-grow sm:flex-grow-0 w-full sm:w-auto",disabled:$,children:[es?(0,a.jsx)(P.A,{className:"mr-2 h-5 w-5"}):(0,a.jsx)(O.A,{className:"mr-2 h-5 w-5"}),es?"Exit Fullscreen":"Fullscreen"]})]})]})})]})})]}),(0,a.jsxs)("footer",{className:"jsx-1ab3383b735d6f43 mt-8 text-center text-sm text-muted-foreground",children:[(0,a.jsxs)("p",{className:"jsx-1ab3383b735d6f43",children:["\xa9 ",new Date().getFullYear()," DogVision. All rights reserved."]}),(0,a.jsx)("p",{className:"jsx-1ab3383b735d6f43 text-xs mt-1",children:"Simulation based on actual canine vision science - dogs see primarily in blue and yellow spectra with rod-enhanced low-light perception."})]}),(0,a.jsx)(l(),{id:"1ab3383b735d6f43",children:".camera-viewport:-webkit-full-screen{width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;padding:0;background-color:#000}.camera-viewport:-moz-full-screen{width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;padding:0;background-color:#000}.camera-viewport:-ms-fullscreen{width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;padding:0;background-color:#000}.camera-viewport:fullscreen{width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;padding:0;background-color:#000}.camera-viewport:-webkit-full-screen{width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;padding:0;background-color:#000}.camera-viewport:-moz-full-screen{width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;padding:0;background-color:#000}.camera-viewport:-ms-fullscreen{width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;padding:0;background-color:#000}.camera-viewport:-webkit-full-screen video,.camera-viewport:-webkit-full-screen canvas,.camera-viewport:-webkit-full-screen video,.camera-viewport:-webkit-full-screen canvas,.camera-viewport:-moz-full-screen video,.camera-viewport:-moz-full-screen canvas,.camera-viewport:-ms-fullscreen video,.camera-viewport:-ms-fullscreen canvas{object-fit:contain}.camera-viewport:-moz-full-screen video,.camera-viewport:-moz-full-screen canvas,.camera-viewport:-webkit-full-screen video,.camera-viewport:-webkit-full-screen canvas,.camera-viewport:-moz-full-screen video,.camera-viewport:-moz-full-screen canvas,.camera-viewport:-ms-fullscreen video,.camera-viewport:-ms-fullscreen canvas{object-fit:contain}.camera-viewport:-ms-fullscreen video,.camera-viewport:-ms-fullscreen canvas,.camera-viewport:-webkit-full-screen video,.camera-viewport:-webkit-full-screen canvas,.camera-viewport:-moz-full-screen video,.camera-viewport:-moz-full-screen canvas,.camera-viewport:-ms-fullscreen video,.camera-viewport:-ms-fullscreen canvas{object-fit:contain}.camera-viewport:fullscreen video,.camera-viewport:fullscreen canvas,.camera-viewport:-webkit-full-screen video,.camera-viewport:-webkit-full-screen canvas,.camera-viewport:-moz-full-screen video,.camera-viewport:-moz-full-screen canvas,.camera-viewport:-ms-fullscreen video,.camera-viewport:-ms-fullscreen canvas{-o-object-fit:contain;object-fit:contain}"})]})}},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var a=r(2115);let n=0,l=new Map,s=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=i(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},7703:(e,t,r)=>{Promise.resolve().then(r.bind(r,6637))},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2596),n=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[310,948,441,684,358],()=>t(7703)),_N_E=e.O()}]);